<div class="slick-slider js-slick">
  {% for block in section.blocks %}
  <div class="wrapper">
    <div class="photo is-animating">
      <img src="{{ block.settings.image | img_url: '1920x1080' }}" alt="{{ image.alt | escape }}">
      <a href="{{ block.settings.url }}" class="slide-text-btn"><span>{{ block.settings.textarea }}</span></a>
      <a href="#" class="slide-arrow-btn"><i class="fa fa-angle-down fa-3x" aria-hidden="true"></i></a>
    </div>
  </div>
  {% endfor %}
</div>


{% schema %}
{
  "name": "Slider",
  "max_blocks": 6,
  "blocks": [
    {
      "type": "slide",
      "name": "Slide",
      "limit": 4,
      "settings": [
        {
          "id": "image",
          "type": "image_picker",
          "label": "Image"
        },
        {
           "type": "textarea",
           "id": "textarea",
           "default": "You Are Never Fully Dressed Without Perfume!",
           "label": "Short Summary"
        },
        {
           "type": "url",
           "id": "url",
           "label": "Link to the Button"
        }
      ]
    }
  ],
  "presets": [{
    "name": "Slider",
    "category": "Slideshow"
  }]
}
{% endschema %}

{% javascript %}
  $(document).ready(function () {
  $('.js-slick').slick({
    autoplay: false,
    autoplaySpeed: 5000,
    dots: true,
    draggable: false,
    fade: true,
    speed: 1000,
    arrows:false
  });

  $('.js-slick').on('beforeChange', function(event, slick, currentSlide, nextSlide) {
    $(slick.$slides).removeClass('is-animating');
  });

  $('.js-slick').on('afterChange', function(event, slick, currentSlide, nextSlide) {
    $(slick.$slides.get(currentSlide)).addClass('is-animating');
  });
});
{% endjavascript %}


{% stylesheet %}
.slick-dots li button:before {color: white;}

.slick-dots li {
	bottom: 7.5em;
	margin-left: -15px;
	margin-right: 30px;
}

.slick-slider .wrapper div a:nth-child(2) span {
	width: 550px;
	display: inline-flex;
}

.slide-text-btn {
	font-family: Raleway;
	position: absolute;
	bottom: 21%;
	display: block;
	width: 100%;
	text-align: center;
	color: white;
	text-decoration: none;
	font-size: 2.5em;
  text-shadow: 0 0 5px rgba(255,255,255,0.50);
}

.slide-arrow-btn {
	display: block;
	text-align: center;
	position: absolute;
	width: 100%;
	bottom: 15%;
	color: white;
}
{% endstylesheet %}
